
{% extends "base.html" %}
{% load mathfilters %}
{% load static %}
<div class=""  id='vabi'> </div>
 {% block content %}

  {% static "css/base.css" %}"


  



{% if min_price %}
<script >
if ({{min_price}} > 0){
  var miny= "{{min_price}}";
  

} 
</script>
{%else%}
<script type="text/javascript">
  var miny =0
</script>
{% endif %}

{% if max_price  %}
<script >
if ({{max_price}} > 0){
  var maxy= "{{max_price}}";
  
} 
</script>
{%else%}
<script type="text/javascript">
  var maxy =10000
</script>
{% endif %}



<script src=" {% static "js/price_range_script.js"%}" type="text/javascript"></script>
  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css" type="text/css" media="all" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
<script src=" {% static "js/touchpunch.js"%}" type="text/javascript"></script>
<body >
<style>
  /* Make the image fully responsive */
  .carousel-inner img {
      max-height: 500px;
      width: 100%;

  }
 body  {
     background-image:linear-gradient(to top, white,#4a4c4e,black); /* Standard syntax (must be last) */  background-attachment: fixed;
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;

  }
  img {
    max-width: 100%;
}
.ui-slider-handle,.ui-corner-all ,.ui-state-default{
  background-color: red;
}
  </style>
  <link href= "{% static "css/index.css" %}" rel="stylesheet">

</head>
<body>

<hr>


<style>

</style>
<div>
 
<div class="ml-5 mt-5 " id="btnContainer">
          
           
 
  <div class="row">

<button class=" mr-1 btn but1" ><i class="fa fa-bars"></i> List</button> 
<button class=" mr-1 btn active but2" "><i class="fa fa-th-large"></i> Grid</button>


<div class="dropdown">
<button class="btn active dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Sort By:
  </button>
  <form  id="forma" class="all"  method="GET" action=""  >
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
  
    <div   type="submit"  value="{{request.GET.reduced}}" ></div>
    <button form="my_form" class="dropdown-item reduced zx" type="submit" value="True" name="reduced">Price Reduction</button>

    <div  type="submit"  value="{{request.GET.high}} " ></div><button form="my_form" class="dropdown-item  zx " type="submit" value="-price" name="high">High Price</button>
    <div  type="submit"  value="{{request.GET.low}}" ></div><button form="my_form"  class="dropdown-item zx" type="submit" value="True" id="bv" name="low">Low Price</button>
  </div>
</form>
</div> 
{% if papi %}


<script type="text/javascript">
  var maxo= '{{papi.price__max}}'
  var mino= '{{papi.price__min}}'
</script>
{%else%}
<script type="text/javascript">
  var maxo= 10000
</script>

{%endif%}

  <div class="price-range-block  ">
           <form  class="all"  method="GET" action=""  id="my_form"  >  
            <div  type="range" id="slider-range" class="price-filter-range" name="rangeInput"></div>

          <div style="" >

          <span id="minimum" type="button"  value="{{request.GET.mini}}" ></span>
              <input type="number" type="range" min=0 max="9000" oninput="validity.valid||(value='0');" id="min_price" class="price-range-field" name="mini" />
              <span id="maximum" type="button"  value="{{request.GET.maxi}}" ></span>
              <input  type="number" min='1' max="10000" oninput="validity.valid||(value=maxo);" id="max_price" class="price-range-field" name="maxi" />
                  {%if request.GET.search%}

            <input style="display: none;" type="text" name="search" value="{{request.GET.search}}">
                {%endif%}
           <button    style="padding: 0" class="btn active ml-2 maqo"    id="">Update</button> 
           </div>
        
      </span>
       
           </form> 
         </div>   
                   <div >
                   
                  
          <div  type="submit"  value="{{request.GET.number}}" ></div>
                      <form action="" method="GET" id="nr">
                <select name="number">
                  <option ><button class="nr" type='submit' value="8"></button>8</option>
                  <option ><button class="nr" type='submit' value="12">12 product</button></option>
                
                  <option ><button class="nr" type='submit' value="20">20 product</button></option>
                  <option ><button class="nr" type='submit' value="30">30 product</button></option>
              
                </select>
                <button id="page" type="submit"></button>
                </form>
                   
</div>

</div>

<br>

<script type="text/javascript">
$('.nr').click(function(){
      
         
       $('#nr').submit();
        });


  $(document).ready(function(){



  });

  
$(".but2").click(function(){
        
       
        $(".cap").removeClass("col-md-12"); 
           $(".cap").addClass("col-md-3");          
         });
       
     $(".but1").click(function(){

       
        $(".cap").removeClass("col-md-3"); 
           $(".cap").addClass("col-md-12"); 
           
         });

function myFunction() {

};
  $(".maqo").click(function(){
    $('#max_price').click();
    $('#min_price').click();
    
});
function subi() {
  document.getElementById("favi").submit();
  document.getElementById("my_form").submit();


}
</script>
       {% load columns %}
<div class="container-fluid"  >
<div class="row s ml-3">
  
    {% for col in post|columns:20 %}
        <div id="vb"  class="col-md-3 cap">
            {% for po in col %}
               <a style=" padding:5px 0px 5px 0px; text-decoration: none ; color: white;background-color: #000000e8;" href="{{ po.get_absolute_url }}">
                <span style="position: absolute;
color:red;font-size:25px;
font-weight: 500;
margin: 0px 0px 0px 2px;
background-color:#0000008a;
border-radius: 15px;
 transform: skewX(-15deg);

">

 {% if po.price_before > po.price %}
  <i style="color: white!important;">Was</i> <i style=" text-decoration: line-through ;" >  {{ po.price_before}}</i>
{% endif %}

 


</span>

{% if po.price_before > po.price %}
<span style="position: absolute;
color:#5bffaa;font-size:25px;
font-weight: 500;
margin: 0px 0px 0px 180px;
background-color:#0000008a;
 transform: skewX(-15deg);border-radius: 15px;
">
 



    <i> <i style="color: white!important;">Save</i> {{ po.price_before|sub:po.price }}</i>
    </span>
{% endif %}



                  <img  class="img-fluid sva" alt="Responsive image" style=" box-shadow:10px 10px 5px #00000054;  " src="{{po.photo.url }}" >
                        
                        
                            <div style="transform: skewX(-10deg);" class=" mt-3">
                            <i style="font-size: 150%;box-shadow:0px 0px 10px #000000; ">{{po.title|capfirst }}-{{po.price}}</i></a>
                                 <button type="button" class="btn btn-warning mb-3"><i class="fa fa-shopping-cart" style="font-size:14px"></i> Add to Cart</button>
                        </div>                     
                    

            {% endfor %}
        </div><!-- /col-md-4 -->

        
     
    {% endfor %}
  </div>
  </div>

  {%include "pagination.html"%}
<hr>
<script>
 if ($(window).width() < 960) {
   $('#slider-range').slider();
}
  

</script>



</div>
</body>




   {% endblock %}
